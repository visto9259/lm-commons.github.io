"use strict";(self.webpackChunklmc_github_io_docs=self.webpackChunklmc_github_io_docs||[]).push([[3716],{1191:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>c});var r=s(4848),a=s(8453);const t={sidebar_position:2},i="Installation",o={id:"lmc-user/installation",title:"Installation",description:"Main Setup",source:"@site/docs/lmc-user/installation.md",sourceDirName:"lmc-user",slug:"/lmc-user/installation",permalink:"/docs/lmc-user/installation",draft:!1,unlisted:!1,editUrl:"https://github.com/lm-commons/tree/master/docs/lmc-user/installation.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"lmcUser",previous:{title:"Introduction",permalink:"/docs/lmc-user/introduction"},next:{title:"Options",permalink:"/docs/lmc-user/options"}},l={},c=[{value:"Main Setup",id:"main-setup",level:2},{value:"With composer",id:"with-composer",level:3},{value:"Post installation",id:"post-installation",level:3},{value:"Post-Install: Laminas\\Db",id:"post-install-laminasdb",level:3},{value:"Password Security",id:"password-security",level:2},{value:"Migration from ZfcUser",id:"migration-from-zfcuser",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(e.h2,{id:"main-setup",children:"Main Setup"}),"\n",(0,r.jsx)(e.h3,{id:"with-composer",children:"With composer"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Add this project in your composer.json:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'"require": {  \n    "lm-commons/lmc-user": "^3.1"  \n}  \n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Now tell composer to download LmcUser by running the command:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"$ php composer.phar update\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"post-installation",children:"Post installation"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Enabling it in your ",(0,r.jsx)(e.code,{children:"application.config.php"}),"file."]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-php",children:"<?php\nreturn array(\n    'modules' => array(\n        // ...\n        'LmcUser',\n    ),\n    // ...\n);\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"post-install-laminasdb",children:"Post-Install: Laminas\\Db"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["If you do not already have a valid Laminas\\Db\\Adapter\\Adapter in your service\nmanager configuration, put the following in ",(0,r.jsx)(e.code,{children:"./config/autoload/database.local.php"}),":"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-php",children:"<?php\nreturn array(\n    'db' => array(\n        'driver'    => 'PdoMysql',\n        'hostname'  => 'changeme',\n        'database'  => 'changeme',\n        'username'  => 'changeme',\n        'password'  => 'changeme',\n    ),\n    'service_manager' => array(\n        'factories' => array(\n            'Laminas\\Db\\Adapter\\Adapter' => 'Laminas\\Db\\Adapter\\AdapterServiceFactory',\n        ),\n    ),\n);\n\n"})}),"\n",(0,r.jsxs)(e.p,{children:["Navigate to ",(0,r.jsx)(e.a,{href:"http://yourproject/user",children:"http://yourproject/user"})," and you should land on a login page."]}),"\n",(0,r.jsx)(e.h2,{id:"password-security",children:"Password Security"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"DO NOT CHANGE THE PASSWORD HASH SETTINGS FROM THEIR DEFAULTS"})," unless A) you\nhave done sufficient research and fully understand exactly what you are\nchanging, ",(0,r.jsx)(e.strong,{children:"AND"})," B) you have a ",(0,r.jsx)(e.strong,{children:"very"})," specific reason to deviate from the\ndefault settings."]}),"\n",(0,r.jsx)(e.p,{children:"If you are planning on changing the default password hash settings, please read\nthe following:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"http://php.net/manual/en/function.crypt.php",children:"PHP Manual: crypt() function"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"http://www.syndicatetheory.com/labs/securely-storing-passwords-in-php",children:"Securely Storing Passwords in PHP by Adrian Schneider"})}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"The password hash settings may be changed at any time without invalidating existing\nuser accounts. Existing user passwords will be re-hashed automatically on their next\nsuccessful login."}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"WARNING:"})," Changing the default password hash settings can cause serious\nproblems such as making your hashed passwords more vulnerable to brute force\nattacks or making hashing so expensive that login and registration is\nunacceptably slow for users and produces a large burden on your server(s). The\ndefault settings provided are a very reasonable balance between the two,\nsuitable for computing power in 2013."]}),"\n",(0,r.jsx)(e.h2,{id:"migration-from-zfcuser",children:"Migration from ZfcUser"}),"\n",(0,r.jsx)(e.p,{children:"If using Zend DB update table name to lmc_user"}),"\n",(0,r.jsx)(e.p,{children:"Replace all namespace references to ZfcUser to LmcUser"}),"\n",(0,r.jsx)(e.p,{children:"Update references to the lowercase key zfcuser to lmcuser"})]})}function h(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>i,x:()=>o});var r=s(6540);const a={},t=r.createContext(a);function i(n){const e=r.useContext(t);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:i(n.components),r.createElement(t.Provider,{value:e},n.children)}}}]);